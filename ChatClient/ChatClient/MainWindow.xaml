<Window x:Class="ChatClient.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Онлайн чат" Height="450" Width="800">
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <!-- Левая колонка: контакты -->
            <ColumnDefinition Width="220"/>
            <!-- Правая колонка: чат -->
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- ====== СПИСОК КОНТАКТОВ ====== -->
        <DockPanel Grid.Column="0" Margin="0,0,10,0">
            <TextBlock Text="Контакты" FontWeight="Bold" DockPanel.Dock="Top"/>

            <StackPanel DockPanel.Dock="Top" Margin="0,5,0,5">
                <TextBox x:Name="SearchContactTextBox"
                         Width="200"
                         Margin="0,0,0,5"/>
                <Button Content="Найти"
                    Width="80"
                    Click="FindContactButton_Click"/>
            </StackPanel>

            <ListBox x:Name="ContactsListBox"
                 DockPanel.Dock="Bottom"
                 Height="300"
                 SelectionChanged="ContactsListBox_SelectionChanged"
                 DisplayMemberPath="Email"/>
        </DockPanel>

        <!-- ====== ОБЛАСТЬ ЧАТА ====== -->
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Верхняя панель -->
            <StackPanel Grid.Row="0"
                    Orientation="Horizontal"
                    Margin="0,0,0,5">
                <TextBlock Text="Имя:" VerticalAlignment="Center"/>
                <TextBox x:Name="UserNameTextBox"
                     Width="120"
                     Margin="5,0,10,0"/>

                <TextBlock Text="Статус:" VerticalAlignment="Center"/>
                <TextBlock x:Name="ConnectionStatusTextBlock"
                       Margin="5,0,10,0"
                       VerticalAlignment="Center"
                       Foreground="Gray"/>

                <Button Content="Профиль"
                    Width="80"
                    Margin="0,0,5,0"
                    Click="ProfileButton_Click"/>
                <Button Content="Выйти"
                    Width="80"
                    Click="LogoutButton_Click"/>
            </StackPanel>

            <!-- Список сообщений -->
            <ListBox x:Name="MessagesListBox"
                     Grid.Row="1"
                     Margin="0,0,0,5"
                     MouseDoubleClick="MessagesListBox_MouseDoubleClick"
                     MouseRightButtonUp="MessagesListBox_MouseRightButtonUp" />


            <!-- Ввод сообщения -->
            <DockPanel Grid.Row="2">
                <TextBox x:Name="MessageTextBox"
                         Margin="0,0,5,0"
                         DockPanel.Dock="Left"
                         KeyDown="MessageTextBox_KeyDown"/>

                <!-- Кнопка для отправки файла -->
                <Button x:Name="AttachButton"
                        Content="Файл..."
                        Width="70"
                        Margin="0,0,5,0"
                        DockPanel.Dock="Right"
                        Click="AttachButton_Click"/>

                <!-- Кнопка отправки текста -->
                <Button x:Name="SendButton"
                        Content="Отправить"
                        Width="90"
                        DockPanel.Dock="Right"
                        Click="SendButton_Click"/>
            </DockPanel>

        </Grid>
    </Grid>

</Window>
